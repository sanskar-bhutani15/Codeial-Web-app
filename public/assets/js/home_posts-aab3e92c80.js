{let e=()=>{let e=$("#new-post-form");e.submit((o=>{o.preventDefault(),$.ajax({type:"post",url:"/posts/create",data:e.serialize(),success:e=>{let o=t(e.data.post);$("#posts-list-container>ul").prepend(o),s($(" .delete-post-button",o)),new postComments(e.data.post._id),new ToggleLike($(".toggle-like-button"),o)},error:e=>{console.log(e.responseText)}})}))},t=e=>$(`\n    <li id="post-${e._id}">\n    ${e.content}\n        <small>\n            <a class="delete-post-button" href="/posts/destroy/${e._id}">Delete</a>\n        </small>\n    ${e.user.name}\n    <br>\n    <small>\n    <a class="toggle-like-button" data-likes="0" href="/likes/toggle/?id=${e._id}&type=Post">0 Likes</a>\n    <small>\n    <div id="post-comments">\n    <form id="post-${e._id}-comments-form"action="/comments/create" method="POST">\n        <input type="text" name="content" placeholder="Add your comment here..." required>\n        <input type="hidden" name="post" value="${e._id}">\n        <input type="submit" value="post">\n    </form>\n\n    <div id="post-comments-list">\n        <ul class="post-comments-${e._id}">\n        </ul>\n    </div>\n</div>\n</li>`),s=e=>{$(e).click((t=>{t.preventDefault(),$.ajax({type:"get",url:$(e).prop("href"),success:e=>{$(`#post-${e.data.post_id}`).remove()},error:e=>{console.log(e.responseText)}})}))},o=function(){$("#posts-list-container>ul>li").each((function(){let e=$(this),t=$(" .delete-post-button",e);s(t);let o=e.prop("id").split("-")[1];new postComments(o)}))};e(),o()}